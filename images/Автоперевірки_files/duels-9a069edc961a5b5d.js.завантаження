(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{59007:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return Me},default:function(){return Qe}});var r=n(9008),i=n(67294),o=n(59433),a=n(47560),u=n(83709),s=n(76534),c=n(88767),l=n(19129),d=n(50029),p=n(87794),m=n.n(p),g=n(59453),f=function(){var e=(0,d.Z)(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.nx.get("/duel/getPlayerRating");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=n(28085),b=function(){var e,t,n=(0,c.useQuery)(l.S8.DuelsRating,f,{select:h.U}),r=n.data,i=n.isLoading;return{topPlaces:null!==(e=null===r||void 0===r?void 0:r.topPlaces)&&void 0!==e?e:[],currentPlaces:null!==(t=null===r||void 0===r?void 0:r.currentPlaces)&&void 0!==t?t:[],isLoading:i}},y=n(15462),v=n(70917),Z=function(){var e=b(),t=e.currentPlaces,n=e.topPlaces,r=e.isLoading,i=(0,s.$G)("duels").t;return(0,v.tZ)(y.i,{rating:{currentPlaces:t,topPlaces:n},isLoading:r,title:i("rank")})},w=n(73450),k=n(11163),x=n(74931),O=n(96486),T=n(18127),P=n(71553),j=n(76988),A=n(92905),S=n(57003),C=n(7329);var D=(0,C.Z)("div",{target:"e6kmxb30"})({name:"a61r0f",styles:"min-height:100%;background:#26273f"}),E=n(25675),_=n(51760),G=n(70557);var R=(0,C.Z)("div",{target:"e11nfhq53"})({name:"bjn8wh",styles:"position:relative"}),L=(0,C.Z)("div",{target:"e11nfhq52"})("background:linear-gradient(0deg, #1b1c30 0%, rgba(27, 28, 48, 0.7) 100%);position:relative;z-index:1;padding:",(function(e){return e.theme.spacing(2.5,2)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{padding:",(function(e){return e.theme.spacing(6.5,2,7)}),";}",(function(e){return e.theme.breakpoints.up("lg")}),"{padding:",(function(e){return e.theme.spacing(9,2,4.5)}),";}",(function(e){return e.theme.breakpoints.up("xl")}),"{padding:",(function(e){return e.theme.spacing(12.5,2,3.5)}),";}"),z=(0,C.Z)("h1",{target:"e11nfhq51"})((function(e){return e.theme.typography("additionalText")}),";color:",(function(e){return e.theme.palette.brand.main}),";text-align:center;margin-bottom:",(function(e){return e.theme.spacing(1.5)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{",(function(e){return e.theme.typography("additionalText","md")}),";margin-bottom:",(function(e){return e.theme.spacing(7)}),";}",(function(e){return e.theme.breakpoints.up("xl")}),"{",(function(e){return e.theme.typography("additionalText","xl")}),";margin-bottom:",(function(e){return e.theme.spacing(9)}),";}"),q=(0,C.Z)(_.B,{target:"e11nfhq50"})("background:#1f2039;max-width:1070px;margin:0 auto;padding:",(function(e){return e.theme.spacing(1,2,0)}),";",G.OQ,"{text-align:left;}",G.WH,"{padding:0;}",(function(e){return e.theme.breakpoints.up("md")}),"{background:transparent;padding:",(function(e){return e.theme.spacing(5.5,0,0)}),";}",(function(e){return e.theme.breakpoints.up("xl")}),"{padding:",(function(e){return e.theme.spacing(2,0,0)}),";max-width:1342px;}");var H=(0,C.Z)("ul",{target:"e1ry9o605"})("max-width:1066px;margin:",(function(e){return e.theme.spacing(0,"auto",2)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{display:grid;grid-template-columns:1fr 1fr 1fr;border-top:1px solid #3d3f6d;border-bottom:1px solid #3d3f6d;}"),B=(0,C.Z)("li",{target:"e1ry9o604"})("display:flex;align-items:flex-start;gap:",(function(e){return e.theme.spacing(.5)}),";padding:",(function(e){return e.theme.spacing(1,0)}),";border-bottom:1px solid #3d3f6d;",(function(e){return e.theme.typography("primaryText")}),";color:",(function(e){return e.theme.palette.common.white}),";:first-of-type{border-top:1px solid #3d3f6d;}",(function(e){return e.theme.breakpoints.up("md")}),"{",(function(e){return e.theme.typography("primaryText","md")}),";gap:",(function(e){return e.theme.spacing(2)}),";padding:",(function(e){return e.theme.spacing(3)}),";border-bottom:none;:first-of-type{border-top:none;}:nth-of-type(-n + 3){border-bottom:1px solid #3d3f6d;}:not(:nth-of-type(3n)){border-right:1px solid #3d3f6d;}}",(function(e){return e.theme.breakpoints.up("lg")}),"{padding:",(function(e){return e.theme.spacing(3,5.5)}),";}",(function(e){return e.theme.breakpoints.up("xl")}),"{",(function(e){return e.theme.typography("primaryText","xl")}),";padding:",(function(e){return e.theme.spacing(2.5,2)}),";}"),I=(0,C.Z)("span",{target:"e1ry9o603"})("min-width:15px;flex-shrink:0;",(function(e){return e.theme.typography("subheading")}),";color:",(function(e){return e.theme.palette.brand.main}),";",(function(e){return e.theme.breakpoints.up("md")}),"{min-width:25px;",(function(e){return e.theme.typography("additionalText","md")}),";}",(function(e){return e.theme.breakpoints.up("xl")}),"{min-width:35px;",(function(e){return e.theme.typography("additionalText","xl")}),";}"),V=(0,C.Z)("div",{target:"e1ry9o602"})({name:"9th5i",styles:"margin:0 auto"}),$=(0,C.Z)("div",{target:"e1ry9o601"})("width:16px;height:16px;position:relative;margin:",(function(e){return e.theme.spacing(0,"auto",1)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{margin:",(function(e){return e.theme.spacing(0,"auto",1.5)}),";}"),F=(0,C.Z)("p",{target:"e1ry9o600"})((function(e){return e.theme.typography("info400")}),";color:",(function(e){return e.theme.palette.common.white}),";text-align:center;margin:",(function(e){return e.theme.spacing(0,"auto",2.5)}),";max-width:310px;",(function(e){return e.theme.breakpoints.up("md")}),"{",(function(e){return e.theme.typography("info400","md")}),";margin-bottom:",(function(e){return e.theme.spacing(3)}),";}",(function(e){return e.theme.breakpoints.up("xl")}),"{margin-bottom:",(function(e){return e.theme.spacing(4)}),";}"),M=n(49505),Q=function(){var e=(0,P.qe)(),t=e.isLoading,n=e.onStartGame,r=e.searchType,o=e.lobbyTime,a=(0,s.$G)(["duels","tournament"]).t;return(0,v.tZ)(i.Fragment,null,(0,v.tZ)(H,null,(0,v.tZ)(B,null,(0,v.tZ)(I,null,"1."),a("howToPlay.list.step1",{ns:"tournament"})),(0,v.tZ)(B,null,(0,v.tZ)(I,null,"2."),a("howToPlay.list.step2",{ns:"tournament"})),(0,v.tZ)(B,null,(0,v.tZ)(I,null,"3."),a("howToPlay.list.step3",{ns:"tournament"})),(0,v.tZ)(B,null,(0,v.tZ)(I,null,"4."),a("howToPlay.list.step4",{ns:"tournament"})),(0,v.tZ)(B,null,(0,v.tZ)(I,null,"5."),a("howToPlay.list.step7",{ns:"tournament"})),(0,v.tZ)(B,null,(0,v.tZ)(I,null,"6."),a("howToPlay.list.step5",{ns:"tournament"}))),(0,v.tZ)(V,null,(0,v.tZ)($,null,(0,v.tZ)(E.default,{src:"/images/duels/like.svg",layout:"fill",objectFit:"cover"})),(0,v.tZ)(F,null,a("duels.initialPage.button.title",{ns:"duels"})),(0,v.tZ)(M.M,{onStartGame:n,time:o,isLoading:t,showTimer:r===A.i.timer,buttonText:a("gameStart",{ns:"duels"})})))},N=n(66876),W=function(){var e=(0,N.tl)().mobile,t=(0,s.$G)("duels").t;return(0,v.tZ)(i.Fragment,null,(0,v.tZ)(R,null,(0,v.tZ)(E.default,{src:"/images/duels/duelsBackgroundImage.jpg",layout:"fill",objectFit:"cover"}),(0,v.tZ)(L,null,(0,v.tZ)(z,null,t("title")),(0,v.tZ)(Q,null),!e&&(0,v.tZ)(q,null))),e&&(0,v.tZ)(q,null))},J=n(59499),K=n(43265),X=(0,C.Z)("div",{target:"e123604f2"})("background:#1b1c30;padding-bottom:",(function(e){return e.theme.spacing(3)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{padding-bottom:",(function(e){return e.theme.spacing(4)}),";}"),U=(0,C.Z)(K.KD,{target:"e123604f1"})("padding-bottom:",(function(e){return e.theme.spacing(3)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{padding-bottom:",(function(e){return e.theme.spacing(4)}),";}"),Y=(0,C.Z)(M.M,{target:"e123604f0"})(""),ee=n(16835),te=n(89211),ne=n(70870),re=n(62996);var ie=(0,C.Z)(ne.u_,{target:"egdditp17"})("border-radius:0;padding:0;color:",(function(e){return e.theme.palette.common.white}),";background:#0b0c16;width:100%;max-width:992px;position:relative;:before{content:'';display:block;position:absolute;width:100%;height:400px;background:linear-gradient(\n      0,\n      rgba(23, 30, 43, 0) 0%,\n      rgba(22, 29, 42, 0.85) 71.35%,\n      #161d2a 98.44%,\n      #161d2a 98.45%\n    );}>button{z-index:1;color:",(function(e){return e.theme.palette.common.white}),";:hover{color:",(function(e){return e.theme.palette.gray[400]}),";}}",(function(e){return e.theme.breakpoints.up("md")}),"{:before{height:360px;}}"),oe=(0,C.Z)("div",{target:"egdditp16"})("position:relative;padding:",(function(e){return e.theme.spacing(4,0)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{padding:",(function(e){return e.theme.spacing(4,12,6)}),";}"),ae=(0,C.Z)("div",{target:"egdditp15"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),ue=(0,C.Z)("p",{target:"egdditp14"})((function(e){return e.theme.typography("heading")}),";text-align:center;text-transform:uppercase;color:",(function(e){return e.theme.palette.brand.main}),";margin-bottom:",(function(e){return e.theme.spacing(2.5)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{",(function(e){return e.theme.typography("heading","md")}),";margin-bottom:",(function(e){return e.theme.spacing(3.5)}),";}",(function(e){return e.theme.breakpoints.up("xl")}),"{",(function(e){return e.theme.typography("heading","xl")}),";}"),se=(0,C.Z)("div",{target:"egdditp13"})("display:grid;grid-template-columns:1fr 1fr;align-items:center;justify-items:center;margin-bottom:",(function(e){return e.theme.spacing(2.5)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{grid-template-columns:1fr 1fr 1fr 1fr 1fr;margin-bottom:",(function(e){return e.theme.spacing(3)}),";}"),ce=(0,C.Z)("span",{target:"egdditp12"})("display:flex;align-items:center;justify-self:center;font-size:14px;line-height:17px;color:",(function(e){return e.theme.palette.common.white}),";:before{flex-shrink:0;content:'';display:block;width:17px;height:17px;margin-right:",(function(e){return e.theme.spacing(2.5)}),";border-radius:50%;",(function(e){var t=e.theme,n=e.success;return"background: ".concat(n?t.palette.success.main:t.palette.brand.main)}),";}",(function(e){return e.theme.breakpoints.up("md")}),"{justify-self:start;:before{margin-right:",(function(e){return e.theme.spacing(3)}),";}}"),le=(0,C.Z)("span",{target:"egdditp11"})((function(e){return e.theme.typography("heading","md")}),";text-align:center;text-transform:uppercase;color:",(function(e){return e.theme.palette.common.white}),";",(function(e){return e.theme.breakpoints.up("xl")}),"{",(function(e){return e.theme.typography("heading","xl")}),";}"),de=(0,C.Z)("div",{target:"egdditp10"})("position:relative;margin-top:",(function(e){return e.theme.spacing(5)}),";margin-bottom:",(function(e){return e.theme.spacing(2)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{margin-top:0;}"),pe=(0,C.Z)("div",{target:"egdditp9"})("min-height:120px;background:#26273f;",(function(e){return e.theme.typography("primaryText")}),";padding:",(function(e){return e.theme.spacing(2)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{",(function(e){return e.theme.typography("primaryText","md")}),";}",(function(e){return e.theme.breakpoints.up("xl")}),"{",(function(e){return e.theme.typography("primaryText","xl")}),";}"),me=(0,C.Z)("div",{target:"egdditp8"})("display:flex;flex-direction:column;gap:",(function(e){return e.theme.spacing(1)}),";margin-bottom:",(function(e){return e.theme.spacing(3)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{gap:",(function(e){return e.theme.spacing(2)}),";margin-bottom:",(function(e){return e.theme.spacing(6)}),";}"),ge=(0,C.Z)("div",{target:"egdditp7"})((function(e){return!e.shouldRenderDynamicEditorHeight&&"min-height: 300px;"}),";display:flex;flex-direction:column;gap:",(function(e){return e.theme.spacing(1)}),";margin-bottom:",(function(e){return e.theme.spacing(3)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{flex-direction:row;gap:",(function(e){return e.theme.spacing(2)}),";margin-bottom:",(function(e){return e.theme.spacing(6)}),";}"),fe=(0,C.Z)("div",{target:"egdditp6"})("display:flex;flex-direction:column;gap:",(function(e){return e.theme.spacing(2)}),";margin-bottom:",(function(e){return e.theme.spacing(3)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{margin-bottom:",(function(e){return e.theme.spacing(6)}),";}"),he=(0,C.Z)("div",{target:"egdditp5"})("display:grid;grid-template-columns:1fr;gap:",(function(e){return e.theme.spacing(2)}),";margin-bottom:",(function(e){return e.theme.spacing(3)}),";justify-self:center;>div,>div:not(:only-of-type):first-of-type,>div:not(:only-of-type):last-of-type{margin:0 auto;}",(function(e){return e.theme.breakpoints.up("md")}),"{",(function(e){return!e.shouldRenderDynamicEditorHeight&&"min-height: 300px;"}),";display:flex;margin-bottom:",(function(e){return e.theme.spacing(6)}),";}"),be=(0,C.Z)("div",{target:"egdditp4"})("background:#1b1c30;padding:",(function(e){return e.theme.spacing(2)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{padding:",(function(e){return e.theme.spacing(3)}),";}"),ye=(0,C.Z)(ne.zx,{target:"egdditp3"})("display:block;margin:",(function(e){return e.theme.spacing(0,"auto",2)}),";",(function(e){return e.theme.breakpoints.up("md")}),"{margin-bottom:",(function(e){return e.theme.spacing(3)}),";}"),ve=(0,C.Z)("div",{target:"egdditp2"})("display:flex;flex-direction:column;align-items:center;gap:32px;",(function(e){return e.theme.breakpoints.up("md")}),"{flex-direction:row;gap:0;justify-content:space-between;}"),Ze=(0,C.Z)("div",{target:"egdditp1"})({name:"je8g23",styles:"pointer-events:none"}),we=(0,C.Z)(re.B,{target:"egdditp0"})((function(e){return e.theme.breakpoints.up("md")}),"{margin-left:auto;}"),ke=n(42992),xe=function(e){var t=e.correctAnswer,n=e.userAnswer;return(0,v.tZ)(Ze,null,(0,v.tZ)(me,null,null===n||void 0===n?void 0:n.answers.map((function(e){var r,i,o,a=e.id,u=e.html,s=a===(null===t||void 0===t?void 0:t.answer),c=(null===n||void 0===n||null===(r=n.params)||void 0===r||null===(i=r.answers)||void 0===i?void 0:i[0])===a||s;return(0,v.tZ)(ke.J,{key:a,id:a,success:s,type:"checkbox",shouldRenderEditor:!1,editorLanguage:null===(o=n.task.task.metadata)||void 0===o?void 0:o.answerEditorType,checked:c,text:u,code:u})}))))},Oe=function(e){var t=e.correctAnswer,n=e.userAnswer,r=(0,s.$G)("duels").t,i=(0,N.gV)(["fo_editor"]).fo_editor.enabled;return(0,v.tZ)(Ze,null,(0,v.tZ)(ge,{shouldRenderDynamicEditorHeight:i},null===n||void 0===n?void 0:n.answers.map((function(e){var i,o,a,u=e.id,s=e.html,c=e.order,l=u===(null===t||void 0===t?void 0:t.answer),d=(null===n||void 0===n||null===(i=n.params)||void 0===i||null===(o=i.answers)||void 0===o?void 0:o[0])===u||l;return(0,v.tZ)(ke.J,{key:u,id:u,success:l,type:"checkbox",shouldRenderEditor:!0,editorLanguage:null===(a=n.task.task.metadata)||void 0===a?void 0:a.answerEditorType,checked:d,text:"".concat(r("variant")," ").concat(c),code:s})}))))},Te=n(45898),Pe=function(e){var t=e.correctAnswer,n=e.userAnswer,r=Array.isArray(null===t||void 0===t?void 0:t.answer)?t.answer:[],i=Array.isArray(null===n||void 0===n?void 0:n.params.answers)?n.params.answers:[];return(0,v.tZ)(Ze,null,(0,v.tZ)(fe,null,(0,v.tZ)(be,null,(0,v.tZ)(Te.E5,null,i.map((function(e,t){return(0,v.tZ)(Te.BL,{key:t},e)})))),(0,v.tZ)(be,null,(0,v.tZ)(Te.E5,{isCorrectOrder:!0},r.map((function(e,t){return(0,v.tZ)(Te.BL,{key:t},e)}))))))},je=n(24780),Ae=n(31682),Se=(0,C.Z)(Ae.M,{target:"e1osan3x2"})((function(e){return!e.shouldRenderDynamicEditorHeight&&"height: 440px;"})," ",(function(e){return e.theme.breakpoints.up("md")}),"{width:100%;height:100%;}"),Ce=(0,C.Z)("div",{target:"e1osan3x1"})("display:flex;align-items:center;justify-content:space-between;padding:",(function(e){return e.theme.spacing(1,1,1,2)}),";",(function(e){return e.theme.typography("primaryText")}),";color:",(function(e){return e.theme.palette.common.white}),";background:#1b1c30;"),De=(0,C.Z)("div",{target:"e1osan3x0"})("width:24px;height:24px;border-radius:50%;position:relative;display:flex;align-items:center;justify-content:center;background:",(function(e){var t=e.theme;return e.success?t.palette.success.main:t.palette.brand.main}),";");function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){(0,J.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=function(e){var t=e.tab,n=e.success,r=e.correctCode,o=(0,N.tl)().mobile,a=(0,s.$G)("duels").t,u=(0,N.gV)(["fo_editor"]).fo_editor.enabled&&o;return o?(0,v.tZ)(i.Fragment,null,(0,v.tZ)(Se,{shouldRenderDynamicEditorHeight:u,language:t.language,code:null!==r&&void 0!==r?r:t.code,positionCursor:[0,0],readOnly:!0,isDynamicHeight:u},u&&(0,v.tZ)(Ce,null,a("selfVariant"),(0,v.tZ)(De,{success:n},(0,v.tZ)(E.default,{src:"/images/duels/game/checkbox.svg",width:12,height:12})))),!u&&(0,v.tZ)(Ce,null,a("selfVariant"),(0,v.tZ)(De,{success:n},(0,v.tZ)(E.default,{src:"/images/duels/game/checkbox.svg",width:12,height:12})))):(0,v.tZ)(Ae.M,{language:t.language,code:null!==r&&void 0!==r?r:t.code,positionCursor:[0,0],readOnly:!0,isDynamicHeight:u})},Re=function(e){var t,n=e.correctAnswer,r=e.codeTabs,i=(0,N.tl)().mobile,o=(0,N.gV)(["fo_editor"]).fo_editor.enabled&&i,a="object"===typeof(t=null===n||void 0===n?void 0:n.answer)&&null!==t&&"correctCode"in t?n.answer.correctCode:"",u=r.map((function(e){return{tab:e.tab,name:e.name,showTab:e.showTab,readOnly:e.readOnly,language:e.language,code:e.code,content:(0,v.tZ)(Ge,{tab:e})}})),s=u.map((function(e){return e.showTab&&!e.readOnly?_e(_e({},e),{},{content:(0,v.tZ)(Ge,{tab:e,correctCode:a,success:!0})}):e}));return(0,v.tZ)(he,{shouldRenderDynamicEditorHeight:o},(0,v.tZ)(je.T,{isDynamicHeight:i,isOpenHint:i,tabs:u}),(0,v.tZ)(je.T,{isDynamicHeight:i,success:!0,isOpenHint:i,tabs:s}))};function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,J.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe=function(e){var t=e.correctAnswer,n=e.userAnswer,r=e.codeTabs,i=null===t||void 0===t?void 0:t.taskType;return"quiz"===i?(0,v.tZ)(xe,{correctAnswer:t,userAnswer:n}):"select"===i?(0,v.tZ)(Oe,{correctAnswer:t,userAnswer:n}):"puzzle"===i?(0,v.tZ)(Pe,{correctAnswer:t,userAnswer:n}):(0,v.tZ)(Re,{codeTabs:r,userAnswer:n,correctAnswer:t})},He=function(e){var t,n,r,o,a,c=e.gameOverInfo,l=e.tasksAnswers,p=e.codeTabs,g=e.onStartGame,f=(0,N.tl)().mobile,h=(0,s.$G)("duels").t,b=(0,k.useRouter)(),y=b.query,Z=b.pathname,w=b.replace,x=(0,te.Z)(!1),O=(0,ee.Z)(x,2),T=O[0],P=O[1],j=(0,i.useCallback)((0,d.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(!1);case 1:case"end":return e.stop()}}),e)}))),[P]),A=(0,i.useCallback)((0,d.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:g();case 3:case"end":return e.stop()}}),e)}))),[j,g]),C=null!==(t=(0,S.P)(y,"page"))&&void 0!==t?t:1,D=null!==(n=null===c||void 0===c||null===(r=c.correctAnswers)||void 0===r?void 0:r[C-1])&&void 0!==n?n:null===c||void 0===c||null===(o=c.correctAnswers)||void 0===o?void 0:o[0],E=null===D||void 0===D?void 0:D.taskType,_=null===l||void 0===l?void 0:l[E],G=Boolean(!(null!==c&&void 0!==c&&c.correctAnswers.length)),R=(0,i.useCallback)((function(){w({pathname:Z,query:ze(ze({},y),{},{page:1})}).then((function(){P(!0)}))}),[Z,y,w,P]);return G?null:(0,v.tZ)(i.Fragment,null,(0,v.tZ)(ye,{color:"secondary",variant:"outlined",onClick:R},h("parseErrors")),(0,v.tZ)(ie,{isOpen:T,onClose:j},(0,v.tZ)(oe,null,(0,v.tZ)(ae,null,(0,v.tZ)(ue,null,h("parsingErrors")),(0,v.tZ)(se,null,(0,v.tZ)(ce,null,h("yourAnswer")),(0,v.tZ)(ce,{success:!0},h("correctAnswer")),!f&&(0,v.tZ)(le,null,h("task")," ",null!==(a=null===_||void 0===_?void 0:_.order)&&void 0!==a?a:1)),(0,v.tZ)(de,null,f&&(0,v.tZ)(u.h,null),(0,v.tZ)(pe,{dangerouslySetInnerHTML:{__html:(null===_||void 0===_?void 0:_.condition)||"\u041d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f"}})),(0,v.tZ)(qe,{codeTabs:p,correctAnswer:D,userAnswer:_})),(0,v.tZ)(ve,null,(0,v.tZ)(ne.tl,{page:C,count:null===c||void 0===c?void 0:c.correctAnswers.length}),(0,v.tZ)(we,{onDuelsButtonClick:A,pending:!1,iconsCount:2},h("playMore"))))))};function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){(0,J.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve=function(e){var t=e.codeTabs,n=e.tasksAnswers,r=(0,P.qe)(),o=r.isLoading,a=r.onStartGame,u=r.searchType,c=r.lobbyTime,l=r.gameOverInfo,d=(0,k.useRouter)(),p=d.pathname,m=d.query,g=d.replace,f=(0,s.$G)("duels").t;return(0,i.useEffect)((function(){"view"in m||g({pathname:p,query:Ie(Ie({},(0,O.omit)(m,["tab"])),{},{view:"results"})})}),[p,m,g]),(0,v.tZ)(X,null,(0,v.tZ)(U,null),(0,v.tZ)(He,{onStartGame:a,codeTabs:t,gameOverInfo:l,tasksAnswers:n}),(0,v.tZ)(Y,{onStartGame:a,time:c,isLoading:o,showTimer:u===A.i.timer,buttonText:f("playMore")}))},$e=function(){var e=function(){var e=(0,c.useQueryClient)(),t=(0,k.useRouter)(),n=t.events,r=t.query,o=t.replace,a=t.pathname,u=(0,P.qe)(),s=u.isGamePlay,d=u.searchType,p=u.onSocketDisconnect,m=u.nextTask,g=u.gameInfo,f=u.gameOverInfo,h=u.wsClient,b=u.isConnected,y=u.onStartGame,v=u.gameCreated,Z=u.handleRefreshSocket,w=(0,j.G$)(),C=w.onSendSolution,D=w.codeTabs,E=w.browserTabs,_=w.isSendTaskLoading,G=w.answers,R=w.onCheckBoxChange,L=w.onPuzzleChange,z=w.shuffledAnswerVariants,q=w.tasksAnswers;(0,i.useEffect)((function(){var t=function(t){t.endsWith("duels")&&d!==A.i.timer&&d!==A.i.game&&Z().then((function(){e.invalidateQueries(l.S8.DuelsRating)})).catch((function(e){return x.ZP.error(e.message)}))};return n.on("routeChangeStart",t),function(){n.off("routeChangeStart",t)}}),[n,Z,e,d]);var H=d===A.i.playAgain||"results"===(0,S.K)(r,"view")&&d===A.i.timer,B=(0,i.useCallback)((function(t){var n,r=t.method,i=t.params;"gameOver"===r&&(null===(n=i.opponentTasksStatistic)||void 0===n?void 0:n.length)&&i.youTasksStatistic.length&&p().then((function(){(0,O.delay)((function(){e.invalidateQueries(l.S8.DuelsRating),e.invalidateQueries(l.S8.Tournament)}),1e3)}))}),[p,e]);return(0,i.useEffect)((function(){if(b){var e=h.current;return null===e||void 0===e||e.on(B),function(){null===e||void 0===e||e.off(B)}}}),[B,b,h]),(0,T.Z)((function(){o({pathname:a,query:(0,O.omit)(r,["view","page"])})})),{isGamePlay:s,nextTask:m,gameInfo:g,gameOverInfo:f,onSendSolution:C,codeTabs:D,browserTabs:E,isSendTaskLoading:_,answers:G,onCheckBoxChange:R,onPuzzleChange:L,shuffledAnswerVariants:z,isResultsPage:H,tasksAnswers:q,onStartGame:y,gameCreated:v}}(),t=e.isGamePlay,n=e.gameInfo,r=e.codeTabs,s=e.browserTabs,d=e.isSendTaskLoading,p=e.nextTask,m=e.answers,g=e.onCheckBoxChange,f=e.onPuzzleChange,h=e.shuffledAnswerVariants,b=e.onSendSolution,y=e.isResultsPage,C=e.tasksAnswers,E=e.gameCreated;return t?(0,v.tZ)(o.T,null,(0,v.tZ)(a.Q,{gameInfo:n,duelTask:p}),(0,v.tZ)(u.k,{gameCreated:E,duelTask:p,onSendSolution:b,isSendTaskLoading:d}),(0,v.tZ)(w.r,{gameCreated:E,shuffledAnswerVariants:h,onPuzzleChange:f,onCheckBoxChange:g,answers:m,nextTask:p,codeTabs:r,browserTabs:s})):(0,v.tZ)(D,null,y?(0,v.tZ)(Ve,{codeTabs:r,tasksAnswers:C}):(0,v.tZ)(W,null),(0,v.tZ)(Z,null))},Fe=function(){return(0,v.tZ)(P.Wh,null,(0,v.tZ)($e,null))},Me=!0,Qe=function(){var e=(0,s.$G)("duels").t;return(0,v.tZ)(i.Fragment,null,(0,v.tZ)(r.default,null,(0,v.tZ)("title",null,e("duels")),(0,v.tZ)("link",{rel:"icon",href:"/favicon.ico"})),(0,v.tZ)(Fe,null))}},20114:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/duels",function(){return n(59007)}])}},function(e){e.O(0,[983,774,888,179],(function(){return t=20114,e(e.s=t);var t}));var t=e.O();_N_E=t}]);